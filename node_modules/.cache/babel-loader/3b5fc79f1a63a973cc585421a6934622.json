{"ast":null,"code":"/*\r\n * Copyright (c) 2015-present, Vitaly Tomilov\r\n *\r\n * See the LICENSE file at the top-level directory of this distribution\r\n * for licensing information.\r\n *\r\n * Removal or modification of this copyright notice is prohibited.\r\n */\n'use strict';\n/**\r\n * ES6 generators\r\n * @module async\r\n * @author Vitaly Tomilov\r\n * @private\r\n */\n\nmodule.exports = config => {\n  /////////////////////////////////\n  // Generator-to-Promise adapter;\n  //\n  // Based on: https://www.promisejs.org/generators/#both\n  return generator => {\n    const $p = config.promise;\n    return function () {\n      const g = generator.apply(this, arguments);\n\n      const handle = result => {\n        if (result.done) {\n          return $p.resolve(result.value);\n        }\n\n        return $p.resolve(result.value).then(data => handle(g.next(data))).catch(err => handle(g.throw(err)));\n      };\n\n      return handle(g.next());\n    };\n  };\n};","map":null,"metadata":{},"sourceType":"script"}